!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t["ngx-gauge"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=0),isNaN(parseFloat(t))||isNaN(Number(t))?e:Number(t)}function o(t){return t+"px"}var r=0,a=100,s="arch",u=4,h="rgba(0, 150, 136, 1)",l="rgba(0, 0, 0, 0.1)",p="butt",c=200,d=function(){function t(t,e){this._elementRef=t,this._renderer=e,this._size=c,this._min=r,this._max=a,this._initialized=!1,this.max=a,this.type=s,this.cap=p,this.thick=u,this.foregroundColor=h,this.backgroundColor=l,this.thresholds=Object.create(null),this._value=0,this.duration=1200}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=i(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._min=i(t,r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=i(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){var e=t.label||t.append||t.prepend,n=t.value||t.min||t.max;this._initialized&&(n?this._update():e||(this._destroy(),this._init()))},t.prototype._updateSize=function(){this._renderer.setElementStyle(this._elementRef.nativeElement,"width",o(this._size)),this._renderer.setElementStyle(this._elementRef.nativeElement,"height",o(this._size))},t.prototype.ngAfterViewInit=function(){this._canvas&&this._init()},t.prototype.ngOnDestroy=function(){this._destroy()},t.prototype._getBounds=function(t){var e,n;return"semi"==t?(e=Math.PI,n=2*Math.PI):"full"==t?(e=1.5*Math.PI,n=3.5*Math.PI):"arch"===t&&(e=.8*Math.PI,n=2.2*Math.PI),{head:e,tail:n}},t.prototype._drawShell=function(t,e,n,i){var o=this._getCenter(),r=this._getRadius();this._clear(),this._context.beginPath(),this._context.strokeStyle=this.backgroundColor,this._context.arc(o.x,o.y,r,e,n,!1),this._context.stroke(),this._context.beginPath(),this._context.strokeStyle=i,this._context.arc(o.x,o.y,r,t,e,!1),this._context.stroke()},t.prototype._clear=function(){this._context.clearRect(0,0,this._getWidth(),this._getHeight())},t.prototype._getWidth=function(){return this.size},t.prototype._getHeight=function(){return this.size},t.prototype._getRadius=function(){return this._getCenter().x-this.thick},t.prototype._getCenter=function(){return{x:this._getWidth()/2,y:this._getHeight()/2}},t.prototype._init=function(){this._context=this._canvas.nativeElement.getContext("2d"),this._initialized=!0,this._updateSize(),this._setupStyles(),this._create()},t.prototype._destroy=function(){this._clear(),this._context=null},t.prototype._setupStyles=function(){this._context.canvas.width=this.size,this._context.canvas.height=this.size,this._context.lineCap=this.cap,this._context.lineWidth=this.thick},t.prototype._getForegroundColorByRange=function(n){var t=Object.keys(this.thresholds).filter(function(t){return function e(t){return t!=undefined&&!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)&&Number(t)<=n}).sort(function(t,e){return Number(t)-Number(e)}).reverse()[0];return t!==undefined&&this.thresholds[t].color||this.foregroundColor},t.prototype._create=function(){var o,r,a=this,t=this.type,e=this._getBounds(t),s=this.duration,n=this.min,i=this.max,u=function d(t,e,n){return Math.max(e,Math.min(n,t))}(this.value,this.min,this.max),h=e.head,l=(e.tail-e.head)/(i-n)*(u-n),p=e.tail,c=this._getForegroundColorByRange(u);window.requestAnimationFrame(function(t){r=t||(new Date).getTime(),function i(t){var e=(t=t||(new Date).getTime())-r,n=e/s;n=Math.min(n,1),a._drawShell(h,h+l*n,p,c),e<s?o=window.requestAnimationFrame(function(t){return i(t)}):window.cancelAnimationFrame(o)}(t)})},t.prototype._update=function(){this._clear(),this._create()},t}();d.decorators=[{type:e.Component,args:[{selector:"ngx-gauge",template:'\n      <div class="reading-block" #reading [style.fontSize]="size * 0.22 + \'px\'" [style.lineHeight]="55 + \'px\'">\n          <u class="reading-affix">{{prepend}}</u>\n          <div [ngClass]="{\n      \t\t\t\t\t\t\'high\': value > 75,\n      \t\t\t\t\t\t\'low\' : value < 41,\n      \t\t\t\t\t\t\'medium\' : value < 76 && value > 40\n      \t\t\t\t\t}">\n          \t{{value | number}}\n          </div>\n          <u class="reading-affix">{{append}}</u>\n      </div>\n      <div [ngClass]="reading-label" [style.fontSize]="size / 13 + \'px\'" [style.lineHeight]="(5 * size / 13) + size + \'px\'">{{label}}</div>\n      <canvas #canvas [width]="size" [height]="size"></canvas>\n    ',styles:["\n      .ngx-gauge-meter {\n          display: inline-block;\n          text-align: center;\n          position: relative;\n      }\n\n      .reading-block {\n          position: absolute;\n          width: 100%;\n          font-weight: normal;\n          white-space: nowrap;\n          text-align: center;\n          overflow: hidden;\n          text-overflow: ellipsis;\n      }\n\n      .reading-label {\n          font-family: inherit;\n          width: 100%;\n          display: inline-block;\n          position: absolute;\n          text-align: center;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          font-weight: normal;\n      }\n\n      .reading-affix {\n          text-decoration: none;\n          font-size: 0.6em;\n          opacity: 0.8;\n          font-weight: 200;\n          padding: 0 0.18em;\n      }\n\n      .reading-affix:first-child {\n          padding-left: 0;\n      }\n\n      .reading-affix:last-child {\n          padding-right: 0;\n      }\n\n      .high {\n          color: #2DB821;\n      }\n\n      .medium {\n          color: #FFAC30;\n      }\n\n      .low {\n          color: #FF213C;\n      }\n    "],host:{role:"meter","[class.ngx-gauge-meter]":"true","[attr.aria-valuemin]":"min","[attr.aria-valuemax]":"max","[attr.aria-valuenow]":"value"},encapsulation:e.ViewEncapsulation.None}]}],d.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer}]},d.propDecorators={_canvas:[{type:e.ViewChild,args:["canvas"]}],size:[{type:e.Input}],min:[{type:e.Input}],max:[{type:e.Input}],type:[{type:e.Input}],cap:[{type:e.Input}],thick:[{type:e.Input}],label:[{type:e.Input}],append:[{type:e.Input}],prepend:[{type:e.Input}],foregroundColor:[{type:e.Input}],backgroundColor:[{type:e.Input}],thresholds:[{type:e.Input}],value:[{type:e.Input}],duration:[{type:e.Input}]};var g=function f(){};g.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[d],exports:[d]}]}],g.ctorParameters=function(){return[]},t.NgxGaugeModule=g,t.Éµa=d,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-gauge.umd.min.js.map
